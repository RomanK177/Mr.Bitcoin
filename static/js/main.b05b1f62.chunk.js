(this["webpackJsonpmisster-bitcoin"]=this["webpackJsonpmisster-bitcoin"]||[]).push([[0],{281:function(e,t,n){},325:function(e,t,n){},326:function(e,t,n){},623:function(e,t,n){},625:function(e,t,n){},643:function(e,t,n){},644:function(e,t,n){},645:function(e,t,n){},646:function(e,t,n){},649:function(e,t,n){},650:function(e,t,n){},651:function(e,t,n){},652:function(e,t,n){},827:function(e,t,n){},828:function(e,t,n){},829:function(e,t,n){},830:function(e,t,n){},831:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(1),c=n.n(a),s=n(25),o=n.n(s),i=(n(325),n(16)),u=n(17),l=n(20),p=(n(326),n(12)),h=n(13),d=n(15),j=n(14),f=(n(327),n(24));n(623);function m(e){var t=e.contact;return Object(r.jsx)(l.b,{to:"/contact/".concat(t._id),children:Object(r.jsxs)("li",{className:"contact-preview flex space-between",children:[Object(r.jsx)("img",{src:"https://robohash.org/"+t._id,alt:""}),Object(r.jsxs)("div",{className:"flex column",children:[Object(r.jsx)("p",{children:t.name}),Object(r.jsx)("p",{children:t.email}),Object(r.jsx)("p",{children:t.phone})]})]})})}var b=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={filterBy:""},e.onChangeHandler=function(t){var n=t.target.value;e.setState({filterBy:n},(function(){e.props.onSetFilter(Object(i.a)({},e.state))}))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state.filterBy;return Object(r.jsx)("div",{children:Object(r.jsx)("form",{className:"contact-filter",children:Object(r.jsx)("input",{type:"text",value:e,onChange:this.onChangeHandler,placeholder:"Search"})})})}}]),n}(a.Component);n(625);function v(e){var t=e.contacts,n=e.onSetFilter;return Object(r.jsxs)("div",{children:[Object(r.jsx)(b,{onSetFilter:n}),Object(r.jsx)(l.b,{to:"/contact/edit/",children:"Add"}),Object(r.jsx)("hr",{}),Object(r.jsx)("h3",{children:"Click on a contact to Transfer BitCoin"}),Object(r.jsx)("ul",{className:"contact-list flex column auto-center",children:t.map((function(e){return Object(r.jsx)(m,{contact:e},e._id)}))})]})}var O=n(5),x=n.n(O),g=n(10),y=n(119);var C={store:function(e,t){localStorage[e]=JSON.stringify(t)},load:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=localStorage[e]||t;return JSON.parse(n)}};var N={query:function(e){var t=k;e&&(t=k.filter((function(t){return t.name.toLocaleLowerCase().includes(e.filterBy.toLocaleLowerCase())||t.email.toLocaleLowerCase().includes(e.filterBy.toLocaleLowerCase())||t.phone.includes(e.filterBy)})));return Promise.resolve(Object(y.a)(t))},save:function(e){if(e._id){var t=k.findIndex((function(t){return t._id===e._id}));k.splice(t,1,e)}else e._id=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}(),k.push(e);return C.store(S,k),Promise.resolve(e)},remove:function(e){var t=k.findIndex((function(t){return t._id===e}));k.splice(t,1),k.length||(k=w.slice());return C.store(S,k),Promise.resolve()},getById:function(e){try{var t=k.find((function(t){return t._id===e}));return Promise.resolve(t)}catch(n){throw n}},getEmptyContact:function(){return Promise.resolve({name:"",phone:"",email:""})}},w=[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824"},{_id:"5a5664025f6ae9aa24a99fde",name:"Hallie Mclean",email:"halliemclean@renovize.com",phone:"+1 (948) 464-2888"},{_id:"5a56640252d6acddd183d319",name:"Parsons Norris",email:"parsonsnorris@renovize.com",phone:"+1 (958) 502-3495"},{_id:"5a566402ed1cf349f0b47b4d",name:"Rachel Lowe",email:"rachellowe@renovize.com",phone:"+1 (911) 475-2312"},{_id:"5a566402abce24c6bfe4699d",name:"Dominique Soto",email:"dominiquesoto@renovize.com",phone:"+1 (807) 551-3258"},{_id:"5a566402a6499c1d4da9220a",name:"Shana Pope",email:"shanapope@renovize.com",phone:"+1 (970) 527-3082"},{_id:"5a566402f90ae30e97f990db",name:"Faulkner Flores",email:"faulknerflores@renovize.com",phone:"+1 (952) 501-2678"},{_id:"5a5664027bae84ef280ffbdf",name:"Holder Bean",email:"holderbean@renovize.com",phone:"+1 (989) 503-2663"},{_id:"5a566402e3b846c5f6aec652",name:"Rosanne Shelton",email:"rosanneshelton@renovize.com",phone:"+1 (968) 454-3851"},{_id:"5a56640272c7dcdf59c3d411",name:"Pamela Nolan",email:"pamelanolan@renovize.com",phone:"+1 (986) 545-2166"},{_id:"5a5664029a8dd82a6178b15f",name:"Roy Cantu",email:"roycantu@renovize.com",phone:"+1 (929) 571-2295"},{_id:"5a5664028c096d08eeb13a8a",name:"Ollie Christian",email:"olliechristian@renovize.com",phone:"+1 (977) 419-3550"},{_id:"5a5664026c53582bb9ebe9d1",name:"Nguyen Walls",email:"nguyenwalls@renovize.com",phone:"+1 (963) 471-3181"},{_id:"5a56640298ab77236845b82b",name:"Glenna Santana",email:"glennasantana@renovize.com",phone:"+1 (860) 467-2376"},{_id:"5a56640208fba3e8ecb97305",name:"Malone Clark",email:"maloneclark@renovize.com",phone:"+1 (818) 565-2557"},{_id:"5a566402abb3146207bc4ec5",name:"Floyd Rutledge",email:"floydrutledge@renovize.com",phone:"+1 (807) 597-3629"},{_id:"5a56640298500fead8cb1ee5",name:"Grace James",email:"gracejames@renovize.com",phone:"+1 (959) 525-2529"},{_id:"5a56640243427b8f8445231e",name:"Tanner Gates",email:"tannergates@renovize.com",phone:"+1 (978) 591-2291"},{_id:"5a5664025c3abdad6f5e098c",name:"Lilly Conner",email:"lillyconner@renovize.com",phone:"+1 (842) 587-3812"}],S="contacts",k=function(){var e=C.load(S);e&&e.length||(e=w);return C.store(S,e),e}();var M=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={filterBy:null},e.onSetFilter=function(t){e.setState({filterBy:t},(function(){return e.props.loadContacts(t)}))},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.loadContacts()}},{key:"loadContacts",value:function(){this.props.loadContacts(this.state.filterBy)}},{key:"render",value:function(){var e=this.props.contacts;return Object(r.jsxs)("div",{className:"contact-page",children:[Object(r.jsx)("h1",{children:"Contacts"}),e&&Object(r.jsx)(v,{onSetFilter:this.onSetFilter,contacts:e})]})}}]),n}(c.a.Component),_={loadContacts:function(e){return function(){var t=Object(g.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.query(e);case 2:r=t.sent,n({type:"SET_CONTACTS",contacts:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},T=Object(f.b)((function(e){return{contacts:e.contactReducer.contacts}}),_)(M),A=n(170),U=n.n(A),D={getRate:function(){return E.apply(this,arguments)},getMarketPrice:function(){return I.apply(this,arguments)}};function E(){return(E=Object(g.a)(x.a.mark((function e(){var t,n,r=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,e.next=3,U.a.get("https://blockchain.info/tobtc?currency=USD&value=".concat(t,"&cors=true"));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(g.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true");case 2:return t=e.sent,console.log("\ud83d\ude80 ~ file: BitcoinService.js ~ line 22 ~ getMarketPrice ~ marketPrice",t),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=n(280),F=n.n(R),P=n(281),B=n.n(P),z=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).chartRef=c.a.createRef(),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.chartRef.current.getContext("2d"),t=this.props.data.values.map((function(e){var t=new Date(1e3*e.x);return""+t.getMonth()+t.getFullYear()}));new F.a(e,{type:"line",data:{labels:t,datasets:[{label:this.props.data.description,data:this.props.data.values.map((function(e){return e.y}))}]},options:{}})}},{key:"render",value:function(){return Object(r.jsx)("div",{className:B.a.graphContainer,children:Object(r.jsx)("canvas",{id:"myChart",ref:this.chartRef})})}}]),n}(a.Component),L=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={marketPrice:null},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getMarketPrice()}},{key:"getMarketPrice",value:function(){var e=Object(g.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getMarketPrice();case 2:t=e.sent,this.setState({marketPrice:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.marketPrice;return Object(r.jsx)("div",{className:"statistic-page container",children:e&&Object(r.jsx)(z,{data:e})})}}]),n}(a.Component),J={getUser:H,signup:function(e){return new Promise(function(){var t=Object(g.a)(x.a.mark((function t(n,r){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.coins=100,e.moves=[],e._id=V(),e.imgUrl="https://robohash.org/".concat(e.name,"?set=set5"),q.unshift(e),localStorage.setItem("users",JSON.stringify(q)),n(e);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},addMove:function(e){return Y.apply(this,arguments)}},q=function(){var e=JSON.parse(localStorage.getItem("users"));e&&e.length||(e=[],localStorage.setItem("users",JSON.stringify(e)));return e}();function H(){return new Promise((function(e,t){q&&q.length||t("No Users are signed up");var n=q[0];n?e(JSON.parse(JSON.stringify(n))):t("User not found")}))}function Y(){return(Y=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:return(n=e.sent).coins=n.coins-t.amount,n.moves.unshift(t),G(n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){var t=q.findIndex((function(t){return t._id===e._id}));-1!==t&&(q.splice(t,1,e),localStorage.setItem("users",JSON.stringify(q)))}function V(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function K(){return function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.getUser();case 3:return n=e.sent,t({type:"SET_USER",user:n}),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}var X=n(51),W=(n(643),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={fund:"",errMsg:"",successMsg:""},e.onTransferFund=function(t){t.preventDefault();var n=e.state.fund;n?n>e.props.maxCoins?e.sendUserMsg("Unapproved transfer"):(e.props.transferFund(n),e.sendUserMsg("Successful transfer"),e.setState({fund:""})):e.sendUserMsg("Amount is required")},e.changeFund=function(t){var n=t.target,r=n.value,a=n.name;e.setState(Object(X.a)({},a,+r))},e.sendUserMsg=function(t){"Successful transfer"!==t?e.setState({errMsg:t}):e.setState({successMsg:t}),setTimeout((function(){e.setState({errMsg:null,successMsg:null})}),3e3)},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state,t=e.errMsg,n=e.successMsg;return Object(r.jsxs)("section",{className:"transfer-fund flex column",children:[Object(r.jsxs)("span",{className:"transfer-title",children:["Transfer coins to ",this.props.contactName,": "]}),Object(r.jsxs)("form",{className:"transfer-form",onSubmit:this.onTransferFund,children:[Object(r.jsx)("input",{name:"fund",type:"number",onChange:this.changeFund,value:this.state.fund||"",placeholder:"Amount to transfer"}),Object(r.jsx)("button",{type:"submit",className:"transfer-btn",children:"Transfer"})]}),t&&Object(r.jsx)("div",{className:"user-msg err-msg",children:t}),n&&Object(r.jsx)("div",{className:"user-msg success-msg",children:n})]})}}]),n}(a.Component)),Q=(n(644),n(645),n(89)),Z=n.n(Q);var $=function(e){var t,n=e.move;return t=e.isInContact?null:Object(r.jsxs)("span",{children:[Object(r.jsx)("strong",{children:"To: "})," ",n.to," "]}),Object(r.jsxs)("li",{className:"move-preview flex column",children:[t,Object(r.jsxs)("span",{children:[Object(r.jsx)("strong",{children:"At:"})," ",Z()(n.at).format("MMMM Do YYYY, h:mm:ss a")]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("strong",{children:"Amount:"})," ",n.amount," coins"]})]})};var ee=function(e){var t=e.moves,n=e.isInContact,a=e.contactId;return n&&(t=t.filter((function(e){return e.toId===a}))),t.length?Object(r.jsxs)("ul",{className:"moves-list clean-list",children:[Object(r.jsx)("h2",{className:"move-list-title",children:"Your Moves:"}),t.map((function(e,t){return Object(r.jsx)($,{move:e,isInContact:n},t)}))]}):Object(r.jsx)("div",{className:"no-moves",children:"No Moves yet..."})},te=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).deleteContact=Object(g.a)(x.a.mark((function t(){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.match.params.contactId,t.next=3,e.props.deleteContact(n);case 3:e.props.history.push("/contacts");case 4:case"end":return t.stop()}}),t)}))),e.transferFund=function(){var t=Object(g.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={toId:e.props.contact._id,to:e.props.contact.name,amount:n,at:Date.now()},t.next=3,e.props.addMove(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadContact();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadContact",value:function(){var e=Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.getContactById(this.props.match.params.id);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user,t=this.props.contact;return t?Object(r.jsxs)("div",{className:"contact-details",children:[Object(r.jsx)("img",{src:"https://robohash.org/"+t._id,alt:""}),Object(r.jsx)("p",{children:t.name}),Object(r.jsx)("p",{children:t.phone}),Object(r.jsx)(l.b,{to:"/contact/edit/"+t._id,children:"Edit"}),Object(r.jsxs)("section",{className:"transfer-section",children:[Object(r.jsx)(W,{maxCoins:e.coins,transferFund:this.transferFund,contactName:t.name}),Object(r.jsx)(ee,{moves:e.moves,contactId:t._id,isInContact:!0})]})]}):Object(r.jsx)("div",{children:"Loading..."})}}]),n}(a.Component),ne={getContactById:function(e){return function(){var t=Object(g.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.getById(e);case 2:r=t.sent,n({type:"SET_CONTACT",contact:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteContact:function(e){return function(){var t=Object(g.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.remove(e);case 2:n({type:"DELETE_CONTACT",id:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},loadUser:K,addMove:function(e){return function(){var t=Object(g.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.addMove(e);case 2:r=t.sent,n({type:"SET_USER",user:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},re=Object(f.b)((function(e){return{contact:e.contactReducer.contact,user:e.userReducer.user}}),ne)(te),ae=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).elInput=c.a.createRef(),e.state={contact:{name:"",phone:"",email:""},errMsg:""},e.handleChange=function(t){var n=t.target,r=n.name,a="number"===n.type?+n.value:n.value;e.setState((function(e){return{contact:Object(i.a)(Object(i.a)({},e.contact),{},Object(X.a)({},r,a))}}))},e.onSaveContact=function(){var t=Object(g.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=e.state.contact,console.log(r),r.name&&r.phone&&r.email){t.next=7;break}return t.abrupt("return",e.setState({errMsg:"Please fill up all the above fields"}));case 7:return t.next=9,e.props.saveContact(r);case 9:e.props.history.push("/");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onDelete=function(){N.remove(e.state.contact._id),e.props.history.push("/contants")},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.match.params.id)){e.next=7;break}return e.next=4,N.getById(t);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,N.getEmptyContact();case 9:e.t0=e.sent;case 10:(n=e.t0)?this.setState({contact:n}):this.setState({errMsg:"Robot Not Found!"}),this.elInput.current.focus(),this.elInput.current.select();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.contact;return Object(r.jsxs)("div",{className:"contact-details",children:[Object(r.jsx)(l.b,{to:"/contact/".concat(e._id),children:Object(r.jsx)("img",{className:"back-btn",src:"./imgs/back.png",alt:""})}),e._id&&Object(r.jsx)("img",{onClick:this.onDelete,className:"delete-btn",src:"./imgs/delete.png",alt:""}),e._id&&Object(r.jsx)("img",{src:"https://robohash.org/"+e._id,alt:""}),Object(r.jsxs)("form",{className:"flex column",action:"",onSubmit:this.onSaveContact,children:[Object(r.jsxs)("div",{className:"flex auto-center",children:[Object(r.jsx)("label",{htmlFor:"",children:"Name: "}),Object(r.jsx)("input",{name:"name",type:"text",ref:this.elInput,value:e.name,onChange:this.handleChange})]}),Object(r.jsxs)("div",{className:"flex auto-center",children:[Object(r.jsx)("label",{htmlFor:"",children:"Phone: "}),Object(r.jsx)("input",{name:"phone",type:"text",value:e.phone,onChange:this.handleChange})]}),Object(r.jsxs)("div",{className:"flex auto-center",children:[Object(r.jsx)("label",{htmlFor:"",children:"Email: "}),Object(r.jsx)("input",{name:"email",type:"text",value:e.email,onChange:this.handleChange})]}),Object(r.jsx)("button",{children:"Save"}),Object(r.jsx)("span",{className:"form-errors",children:this.state.errMsg})]})]})}}]),n}(a.Component),ce={saveContact:function(e){return function(){var t=Object(g.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!!e._id,t.next=3,N.save(e);case 3:return e=t.sent,n(r?{type:"UPDATE_CONTACT",contact:e}:{type:"ADD_CONTACT",contact:e}),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},se=Object(f.b)(null,ce)(ae),oe={on:function(e,t){var n=function(e){var n=e.detail;return t(n)};return window.addEventListener(e,n),function(){return window.removeEventListener(e,n)}},emit:function(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}};n(646);var ie=n(171),ue=n(172),le=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={bitcoin:"",toCurr:"USD",res:null,errMsg:""},e.onConvert=function(){var t=Object(g.a)(x.a.mark((function t(n){var r,a,c,s,o;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),e.state.bitcoin){t.next=5;break}return e.setState({errMsg:"Amount is required"}),setTimeout((function(){e.setState({errMsg:null})}),2e3),t.abrupt("return");case 5:return r=e.state,a=r.bitcoin,c=r.coin,t.next=8,D.getRate(c);case 8:s=t.sent,o=(1/+s*+a).toFixed(5),e.setState({res:o});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=t.target,r=n.value,a=n.name,c=n.type;e.setState(Object(X.a)({},a,"number"===c?+r:r))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state,t=e.res,n=e.bitcoin,a=e.toCurr;return Object(r.jsx)("section",{className:"converter-container flex align-center justify-center",children:Object(r.jsxs)("form",{className:"convert-form flex column space-between align-center",onSubmit:this.onConvert,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{type:"number",onChange:this.handleChange,value:n,name:"bitcoin",placeholder:"Enter amount"}),Object(r.jsx)("span",{className:"from-currency",children:"BTC"}),Object(r.jsx)(ie.a,{className:"fa-icon",icon:ue.a}),Object(r.jsxs)("select",{className:"form-control",name:"toCurr",value:a,onChange:this.handleChange,required:!0,children:[Object(r.jsx)("option",{children:"USD"}),Object(r.jsx)("option",{children:"GBP"}),Object(r.jsx)("option",{children:"EUR"}),Object(r.jsx)("option",{children:"CAD"})]})]}),Object(r.jsx)("span",{className:"validation-error",children:this.state.errMsg}),t&&Object(r.jsxs)("div",{className:"result",children:[Object(r.jsx)("span",{className:"given-amount",children:n}),Object(r.jsx)("span",{className:"base-currency",children:"BTC"}),Object(r.jsx)(ie.a,{className:"fa-icon",icon:ue.a}),Object(r.jsx)("span",{className:"final-result",children:t}),Object(r.jsx)("span",{className:"second-currency",children:a})]}),Object(r.jsx)("button",{className:"calculate-btn",type:"submit",children:"Convert"})]})})}}]),n}(a.Component),pe=(n(649),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={rate:""},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.getUser(),e.next=3,D.getRate();case 3:t=e.sent,this.setState({rate:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(g.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadUser();case 2:if(t=e.sent){e.next=7;break}return console.log("no user!"),this.props.history.push("/signup"),e.abrupt("return");case 7:oe.emit("user loggedIn",t);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.rate,t=this.props.user;return t?Object(r.jsxs)("div",{className:"home-page container flex column",children:[Object(r.jsxs)("h1",{children:["Hello ",t.name,"!"]}),Object(r.jsxs)("div",{className:"main flex column align-start",children:[Object(r.jsxs)("div",{className:"flex auto-center",children:[Object(r.jsx)("img",{src:"imgs/coins.png",alt:""}),Object(r.jsxs)("h2",{children:["Coins: ",t.coins]})]}),Object(r.jsxs)("div",{className:"flex auto-center",children:[Object(r.jsx)("img",{src:"imgs/bitcoin.png",alt:""}),Object(r.jsxs)("h2",{children:["Rate: ",e]})]})]}),Object(r.jsx)(le,{})]}):Object(r.jsx)(u.a,{to:"/signup"})}}]),n}(a.Component)),he={loadUser:K},de=Object(f.b)((function(e){return{user:e.userReducer.user}}),he)(pe);n(650),n(651);var je=function(e){var t=e.user,n=(1/e.rate*t.coins).toFixed(2);return Object(r.jsxs)("div",{className:"user-info flex column",children:[Object(r.jsx)("img",{className:"user-img",src:"imgs/bitcoin2.png",alt:"user-img"}),Object(r.jsxs)("span",{className:"user-title",children:["Hello ",t.name,"!"]}),Object(r.jsxs)("span",{className:"coins-txt flex align-center",children:[Object(r.jsx)("img",{className:"coins-img",src:"imgs/coins.png",alt:"usd-img"})," ",Object(r.jsx)("span",{className:"coin-txt",children:"USD: "})," ",n]}),Object(r.jsxs)("span",{className:"coins-txt flex align-center",children:[Object(r.jsx)("img",{className:"coins-img",src:"imgs/bitcoin2.png",alt:"bitcoin-img"})," ",Object(r.jsx)("span",{className:"coin-txt",children:"BTC: "})," ",t.coins]})]})},fe=(n(652),n(61));function me(e){var t=e.data,n=e.title,a=e.color,c=e.desc;return t.length<2?null:Object(r.jsxs)("div",{className:"chart flex column align-center",children:[Object(r.jsx)("h2",{children:n}),Object(r.jsx)("h4",{className:"desc",children:c}),Object(r.jsxs)(fe.c,{class:"line-chart",width:1e3,height:250,data:t,margin:{top:5,right:30,left:50,bottom:5},children:[Object(r.jsx)(fe.e,{dataKey:"x"}),Object(r.jsx)(fe.f,{}),Object(r.jsx)(fe.d,{}),Object(r.jsx)(fe.a,{name:n}),Object(r.jsx)(fe.b,{type:"monotone",dataKey:"y",name:n,stroke:a})]})]})}var be=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={rate:null},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadUser();case 2:return e.next=4,D.getRate();case 4:t=e.sent,this.setState({rate:t});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user,t=this.state.rate;return e?Object(r.jsxs)("section",{className:"user-profile flex column justify-center align-center",children:[Object(r.jsxs)("div",{className:"user-profile-container flex space-between",children:[Object(r.jsx)(je,{user:e,rate:t}),Object(r.jsx)("div",{className:"move-list-container",children:Object(r.jsx)(ee,{moves:this.lastUserMoves,isInContact:!1})})]}),Object(r.jsx)("div",{className:"chart-container",children:Object(r.jsx)(me,{className:"user-chart",data:this.userMoves,title:"Bitcoin transfer",desc:"My Bitcoin transfers in the last month",color:"green"})})]}):Object(r.jsx)("div",{children:"Loading..."})}},{key:"lastUserMoves",get:function(){return JSON.parse(JSON.stringify(this.props.user.moves)).slice(0,3)}},{key:"userMoves",get:function(){return JSON.parse(JSON.stringify(this.props.user.moves)).map((function(e){return e.at=Z()(e.at).format("MMM Do"),e={x:e.at,y:e.amount}}))}}]),n}(a.Component),ve={loadUser:K},Oe=Object(f.b)((function(e){return{user:e.userReducer.user}}),ve)(be),xe=(n(827),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:""},e.onChangeInput=function(t){var n=t.target.value;e.setState({name:n})},e.onSignUp=function(){var t=Object(g.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,e.props.addUser(Object(i.a)({},e.state));case 3:e.props.history.push("/");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("section",{className:"signup-page flex column align-center",children:[Object(r.jsx)("img",{className:"bitcoin-img",src:"imgs/bitcoin2.png",alt:"bitcoin-img"}),Object(r.jsxs)("form",{onSubmit:this.onSignUp,className:"flex column align-center",children:[Object(r.jsxs)("div",{className:"signup-form flex column align-center",children:[Object(r.jsx)("label",{htmlFor:"name",children:"Please enter your name:"}),Object(r.jsx)("input",{type:"text",value:this.state.name,onChange:this.onChangeInput}),Object(r.jsx)("span",{className:"validation-error",children:"Name is required"})]}),Object(r.jsx)("button",{type:"submit",className:"save-btn btn",children:"Save"})]})]})}}]),n}(a.Component)),ge={addUser:function(e){return function(){var t=Object(g.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.signup(e);case 2:r=t.sent,n({type:"SAVE_USER",newUser:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},ye=Object(f.b)(null,ge)(xe),Ce=(n(828),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props),oe.on("details mounted",(function(){console.log("Details are now mounted")}))}},{key:"render",value:function(){return Object(r.jsxs)("nav",{className:"header flex auto-center",children:[Object(r.jsx)(l.b,{to:"/",children:Object(r.jsx)("img",{src:"imgs/home.png",alt:""})}),Object(r.jsx)(l.b,{to:"/contacts",children:Object(r.jsx)("img",{src:"imgs/users.png",alt:""})}),Object(r.jsx)(l.b,{to:"/statistic",children:Object(r.jsx)("img",{src:"imgs/graph.png",alt:""})}),Object(r.jsx)(l.b,{to:"/user-profile",children:Object(r.jsx)("h3",{children:"Profile"})})]})}}]),n}(a.Component)),Ne=Object(u.g)(Ce),we=(n(829),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onBack=function(){e.props.history.goBack()},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props),oe.on("details mounted",(function(){console.log("Details are now mounted")}))}},{key:"render",value:function(){return Object(r.jsx)("footer",{children:"About and stuff"})}}]),n}(a.Component)),Se=Object(u.g)(we);n(830);var ke=Object(f.b)((function(e){return{user:e.userReducer.user}}),null)((function(e){var t=function(e){return e.isAdmin?Object(r.jsx)(u.b,Object(i.a)({},e)):Object(r.jsx)(u.a,{to:"/"})};function n(){}return Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)(l.a,{children:[Object(r.jsx)(Ne,{}),Object(r.jsxs)(u.d,{children:[Object(r.jsx)(t,{isAdmin:!0,path:"/contact/edit/:id?",component:se}),Object(r.jsx)(u.a,{exact:!0,from:"/contact/undefined",to:"/contacts"}),Object(r.jsx)(u.b,{path:"/contact/:id",render:function(e){return Object(r.jsx)(re,Object(i.a)(Object(i.a)({},e),{},{goBack:n}))}}),Object(r.jsx)(u.b,{path:"/contacts/",component:T}),Object(r.jsx)(u.b,{path:"/statistic/",component:L}),Object(r.jsx)(u.b,{path:"/signup/",component:ye}),Object(r.jsx)(u.b,{path:"/user-profile/",component:Oe}),Object(r.jsx)(u.b,{path:"/",component:de})]}),Object(r.jsx)(Se,{})]})})})),Me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,833)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},_e=n(60),Te={contacts:[],contact:null};var Ae={users:[],user:null};var Ue=n(290),De=Object(_e.c)({contactReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONTACTS":return Object(i.a)(Object(i.a)({},e),{},{contacts:t.contacts});case"SET_CONTACT":return Object(i.a)(Object(i.a)({},e),{},{contact:t.contact});case"UPDATE_CONTACT":return Object(i.a)(Object(i.a)({},e),{},{contacts:e.contacts.map((function(e){return e._id===t.contact._id?t.contact:e}))});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(i.a)(Object(i.a)({},e),{},{user:t.user});case"SAVE_USER":return Object(i.a)(Object(i.a)({},e),{},{users:[].concat(Object(y.a)(e.users),[t.newUser])});default:return e}}}),Ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_e.d,Ie=Object(_e.e)(De,Ee(Object(_e.a)(Ue.a)));o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(f.a,{store:Ie,children:Object(r.jsx)(ke,{})})}),document.getElementById("root")),Me()}},[[831,1,2]]]);
//# sourceMappingURL=main.b05b1f62.chunk.js.map